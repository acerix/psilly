{"version":3,"sources":["webpack:///./routes/jam/jamulus.tsx","webpack:///./routes/jam/index.tsx"],"names":["JamulusStatus","statusHTML","setStatusHTML","useState","useEffect","timeoutID","refresh","fetch","then","data","text","html","catch","error","setTimeout","window","clearTimeout","dangerouslySetInnerHTML","__html","Jam","class","Helmet","title","href","target","rel"],"mappings":"2IAiCeA,MA5B4B,KACzC,MAAOC,EAAYC,GAAiBC,YAAiB,cAsBrD,OApBAC,aAAU,KACR,IAAIC,EAEJ,MAAMC,EAAU,KACdC,MAAM,8CACHC,MAAKC,GAAQA,EAAKC,SAClBF,MAAKG,GAAQT,EAAcS,GAAQ,yCACnCC,OAAOC,IACNX,EAAe,aAAYW,YAE/BR,EAAYS,WAAWR,EAAS,QAIlC,OAFAA,IAEO,KACLS,OAAOC,aAAaX,MAErB,IAGI,mBAAKY,wBAAyB,CACnCC,OAAQjB,MCHGkB,UAtBkB,IAE7B,uBAASC,MAAM,kBACb,YAACC,EAAA,EAAD,CAAQC,MAAM,QACd,qCACA,iDAA+B,iEAA4C,iBAAGC,KAAK,uBAAR,WAA5C,0FAC/B,4EACA,4CACA,mBAAKH,MAAM,QACT,YAAC,EAAD,OAEF,uCACA,mBAAKA,MAAM,mBACT,iBAAGA,MAAM,yCAAyCG,KAAK,2BAA2BC,OAAO,UAAzF,eACA,iBAAGJ,MAAM,yCAAyCG,KAAK,2DAA2DC,OAAO,SAASC,IAAI,cAAtI,+BAEF,gCACA,yFAAoE,iBAAGF,KAAK,2BAAR,oBAApE","file":"route-jam.chunk.e60b0.esm.js","sourcesContent":["import { FunctionalComponent, h } from 'preact'\nimport { useEffect, useState } from 'preact/hooks'\n// import DOMPurify from 'dompurify'\n\n\nconst JamulusStatus: FunctionalComponent = () => {\n  const [statusHTML, setStatusHTML] = useState<string>('Loading...')\n\n  useEffect(() => {\n    let timeoutID: NodeJS.Timeout\n\n    const refresh = (): void => {\n      fetch('https://psilly.com/jam/jamulus-status.html')\n        .then(data => data.text())\n        .then(html => setStatusHTML(html || '<p>Error fetching server status</p>'))\n        .catch((error: string) => {\n          setStatusHTML(`<p>Error: ${error}</p>`)\n        })\n      timeoutID = setTimeout(refresh, 1<<14)\n    }\n    refresh()\n\n    return (): void => {\n      window.clearTimeout(timeoutID)\n    }\n  }, [])\n\n  //__html: DOMPurify.sanitize(statusHTML)\n  return <div dangerouslySetInnerHTML={{\n    __html: statusHTML\n  }} />\n}\n\nexport default JamulusStatus","import { FunctionalComponent, h } from 'preact'\nimport Helmet from 'react-helmet'\nimport JamulusStatus from './jamulus'\n\nconst Jam: FunctionalComponent = () => {\n  return (\n    <section class=\"container py-5\">\n      <Helmet title=\"Jam\" />\n      <h1>Psilly Jams</h1>\n      <p>I wanna jam it with you!</p><p>Get an instrument hooked up and join our <a href=\"https://jamulus.io/\">Jamulus</a> server. The server is in Montr√©al, so for best results, live near here. N'est-ce pas?</p>\n      <pre>Psilly (psilly.com) on anygenre1.jamulus.io:22124</pre>\n      <h2>Who's Jammin' Now?</h2>\n      <div class=\"mb-2\">\n        <JamulusStatus />\n      </div>\n      <h2>Server Status</h2>\n      <div class=\"list-group mb-3\">\n        <a class=\"list-group-item list-group-item-action\" href=\"/jam/jamulus-status.html\" target=\"_blank\">HTML status</a>\n        <a class=\"list-group-item list-group-item-action\" href=\"https://explorer.jamulus.io/servers.php?query=psilly.com\" target=\"_blank\" rel=\"noreferrer\">Jamulus.io Explorer Status</a>\n      </div>\n      <h2>Issues</h2>\n      <p>Let me know of any trouble you have with the server, my email is <a href=\"mailto:dylan@psilly.com\">dylan@psilly.com</a>.</p>\n    </section>\n  )\n}\n\nexport default Jam"],"sourceRoot":""}