{"version":3,"sources":["webpack:///./routes/chat/style.css","webpack:///./routes/chat/index.tsx"],"names":["Chat","ref","createRef","useEffect","element","current","renderCallbackID","paused","position","velocity","handleBlur","window","addEventListener","handleFocus","render","setTimeout","style","backgroundPosition","requestAnimationFrame","cancelAnimationFrame","removeEventListener","class","Helmet","title","autofocus"],"mappings":"0IACe,EAAQ,cC0DRA,UAtDmB,KAChC,MAAMC,EAAMC,sBA6CZ,OA3CAC,aAAU,KACR,MAAMC,EAAUH,EAAII,QACpB,IACIC,EADAC,GAAS,EAETC,EAAW,EACXC,EAAW,EACf,MAEMC,EAAa,KACjBH,GAAS,GAEXI,OAAOC,iBAAiB,OAAQF,GAEhC,MAAMG,EAAc,KAClBN,GAAS,GAEXI,OAAOC,iBAAiB,QAASC,GAEjC,MAOMC,EAAS,KACTP,EACFQ,WAAWD,EAAQ,MARrBL,GAbmB,EAcnBD,GAAYC,EAEZL,EAAQY,MAAMC,mBAAsB,KAAIT,MASxCF,EAAmBK,OAAOO,sBAAsBJ,KAIlD,OAFAA,IAEO,KACLH,OAAOQ,qBAAqBb,GAC5BK,OAAOS,oBAAoB,OAAQV,GACnCC,OAAOS,oBAAoB,QAASP,MAErC,CAACZ,IAIF,uBAASA,IAAKA,EAAKoB,MAAOL,GACxB,YAACM,EAAA,EAAD,CAAQC,MAAM,YACd,qBAAOC,WAAS","file":"route-chat.chunk.7c118.esm.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"chat\":\"chat__whrty\"};","import { FunctionalComponent, createRef, h } from 'preact'\nimport { useEffect } from 'preact/hooks'\nimport Helmet from 'react-helmet'\nimport style from './style.css'\n\nconst Chat: FunctionalComponent = () => {\n  const ref = createRef()\n\n  useEffect(() => {\n    const element = ref.current as HTMLElement\n    let paused = false\n    let renderCallbackID: number\n    let position = 0\n    let velocity = 1\n    const acceleration = 1\n\n    const handleBlur = (): void => {\n      paused = true\n    }\n    window.addEventListener('blur', handleBlur)\n\n    const handleFocus = (): void => {\n      paused = false\n    }\n    window.addEventListener('focus', handleFocus)\n\n    const draw = (): void => {\n      velocity += acceleration\n      position += velocity\n      // if (Math.abs(v)>32 && v*a>=0) a = 0 - v * Math.random() * 0.01\n      element.style.backgroundPosition = `0 ${position}px`\n    }\n\n    const render = (): void => {\n      if (paused) {\n        setTimeout(render, 128)\n        return\n      }\n      draw()\n      renderCallbackID = window.requestAnimationFrame(render)\n    }\n    render()\n\n    return (): void => {\n      window.cancelAnimationFrame(renderCallbackID)\n      window.removeEventListener('blur', handleBlur)\n      window.removeEventListener('focus', handleFocus)\n    }\n  }, [ref])\n\n\n  return (\n    <section ref={ref} class={style.chat}>\n      <Helmet title=\"Chatter\" />\n      <input autofocus />\n    </section>\n  )\n}\n\nexport default Chat\n"],"sourceRoot":""}