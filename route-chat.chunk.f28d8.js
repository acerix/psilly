(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{liLl:function(e,t,n){"use strict";n.r(t);var o=n("hosL"),r=n("QRet"),i=n("Hrl7"),u="chat__whrty",c=function(e){var t=e.item,n=t.substr(-6),r=t.substr(0,t.length-6);return Object(o.h)("li",{style:{color:"#"+n}},r)};t.default=function(){var e=Object(o.createRef)(),t=Object(o.createRef)(),n=Object(o.createRef)(),s=Object(r.k)([]),a=s[0],d=s[1],l=new AbortController;return Object(r.d)((function(){var o,r,i,u=e.current,c=t.current,s=n.current,a=!0,v=!1,w=!1,h=0,f=0,m="",p=0,b=4-8*Math.random(),L=8-16*Math.random(),E=!0,g=function(){v=!0};window.addEventListener("blur",g);var y=function(){v=!1};window.addEventListener("focus",y);var j=function(e){return h|=1<<e.button,0===e.button&&(f=e.clientY),e.preventDefault(),!1};window.addEventListener("mousedown",j);var O=function(e){return h^=1<<e.button,0===e.button&&(L=0,b*=2),c.focus(),e.preventDefault(),!1};window.addEventListener("mouseup",O);var k=function(e){return e.preventDefault(),!1};window.addEventListener("contextmenu",k);var x=function(e){1&h&&(b=e.clientY-f,f=e.clientY,u.style.backgroundPosition="0 "+(p+=b)+"px")};window.addEventListener("mousemove",x);var T=function(e){return E=!1,f=e.touches[0].pageY,!1};window.addEventListener("touchstart",T);var Y=function(){return E=!0,L=0,b*=2,!1};window.addEventListener("touchend",Y);var R=function(e){1===e.touches.length?(b=e.touches[0].pageY-f,f=e.touches[0].pageY,u.style.backgroundPosition="0 "+(p+=b)+"px"):2===e.touches.length?console.log(e.touches):console.error("Insufficient holes")};window.addEventListener("touchmove",R);!function e(){v?r=setTimeout(e,512):(o=window.requestAnimationFrame(e),1&h||!E||(p+=b+=L,Math.abs(b)>32&&b*L>=0&&(L=-b*Math.random()/128),u.style.backgroundPosition="0 "+p+"px"))}();return function e(){if(v)a&&(i=setTimeout(e,128));else{var t="?r";m!==c.value&&(t+="&s="+encodeURIComponent(c.value),m=c.value),fetch("https://psilly.com/experiments/ajax/chatter_chat.pill"+t,l).then((function(e){return e.json()})).then((function(e){return d(e||[])})).then((function(){a&&(w||(w=!0,s.innerText="",s.style.display="none"))})).then((function(){a&&(i=setTimeout(e,1028))})).catch((function(e){a&&(w=!1,s.innerText=e,s.style.display="block",console.error(e),alert("Error connecting to server.\nYou may have lost your connection, or perhaps you dislike cookies?\nRefresh the page, with cookies enabled, to try again."),location.reload())}))}}(),s.innerText="Connecting...",c.focus(),function(){a=!1,window.cancelAnimationFrame(o),l.abort(),clearTimeout(r),clearTimeout(i),window.removeEventListener("blur",g),window.removeEventListener("focus",y),window.removeEventListener("mousedown",j),window.removeEventListener("mouseup",O),window.removeEventListener("contextmenu",k),window.removeEventListener("mousemove",x),window.removeEventListener("touchstart",T),window.removeEventListener("touchend",Y),window.removeEventListener("touchmove",R)}}),[]),Object(o.h)("section",{ref:e,class:u},Object(o.h)(i.a,{title:"Chatter"}),Object(o.h)("input",{ref:t,autofocus:!0}),Object(o.h)("ul",{class:"output"},a.map((function(e){return Object(o.h)(c,{item:e,key:e})}))),Object(o.h)("p",{ref:n,class:"text-center"},"A colourful ape input aggregator."))}}}]);
//# sourceMappingURL=route-chat.chunk.f28d8.js.map