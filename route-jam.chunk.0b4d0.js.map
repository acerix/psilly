{"version":3,"sources":["webpack:///./routes/jam/jamulus.tsx","webpack:///./routes/jam/index.tsx"],"names":["JamulusStatus","useState","statusHTML","setStatusHTML","useEffect","timeoutID","refresh","fetch","then","data","toString","catch","error","setTimeout","window","clearTimeout","dangerouslySetInnerHTML","__html","Jam","class","Helmet","title","href"],"mappings":"2IAgCeA,EA3B4B,WACzC,MAAoCC,YAAiB,cAA9CC,EAAP,KAAmBC,EAAnB,KAqBA,OAnBAC,aAAU,WACR,IAAIC,EAYJ,OAVgB,SAAVC,IACJC,MAAM,8CACHC,MAAK,SAAAC,GAAI,OAAIN,EAAcM,EAAKC,YAAc,mCAC9CC,OAAM,SAACC,GACNT,EAAc,aAAaS,EAAd,WAEjBP,EAAYQ,WAAWP,EAAS,OAElCA,GAEO,WACLQ,OAAOC,aAAaV,MAErB,IAGI,mBAAKW,wBAAyB,CACnCC,OAAQf,MCHGgB,UArBkB,WAC/B,OACE,uBAASC,MAAM,kBACb,YAACC,EAAA,EAAD,CAAQC,MAAM,QACd,qCACA,iDAA+B,iEAA4C,iBAAGC,KAAK,uBAAR,WAA5C,0FAC/B,4EACA,gCACA,gGAA2E,iBAAGA,KAAK,2BAAR,oBAA3E,KACA,uCACA,iEACA,mBAAKH,MAAM,mBACT,iBAAGA,MAAM,yCAAyCG,KAAK,4BAAvD,eACA,iBAAGH,MAAM,yCAAyCG,KAAK,4DAAvD,+BAEF,4CACA,YAAC,EAAD","file":"route-jam.chunk.0b4d0.js","sourcesContent":["import { FunctionalComponent, h } from 'preact'\nimport { useEffect, useState } from 'preact/hooks'\n// import DOMPurify from 'dompurify'\n\n\nconst JamulusStatus: FunctionalComponent = () => {\n  const [statusHTML, setStatusHTML] = useState<string>('Loading...')\n\n  useEffect(() => {\n    let timeoutID: NodeJS.Timeout\n\n    const refresh = (): void => {\n      fetch('https://psilly.com/jam/jamulus-status.html')\n        .then(data => setStatusHTML(data.toString() || 'Error fetching server status'))\n        .catch((error: string) => {\n          setStatusHTML(`<p>Error: ${error}</p>`)\n        })\n      timeoutID = setTimeout(refresh, 1<<14)\n    }\n    refresh()\n\n    return (): void => {\n      window.clearTimeout(timeoutID)\n    }\n  }, [])\n\n  //__html: DOMPurify.sanitize(statusHTML)\n  return <div dangerouslySetInnerHTML={{\n    __html: statusHTML\n  }} />\n}\n\nexport default JamulusStatus","import { FunctionalComponent, h } from 'preact'\nimport Helmet from 'react-helmet'\nimport JamulusStatus from './jamulus'\n\nconst Jam: FunctionalComponent = () => {\n  return (\n    <section class=\"container py-5\">\n      <Helmet title=\"Jam\" />\n      <h1>Psilly Jams</h1>\n      <p>I wanna jam it with you!</p><p>Get an instrument hooked up and join our <a href=\"https://jamulus.io/\">Jamulus</a> server. The server is in Montr√©al, so for best results, live near here. N'est-ce pas?</p>\n      <pre>Psilly (psilly.com) on anygenre1.jamulus.io:22124</pre>\n      <h2>Issues</h2>\n      <p>Please let me know of any trouble you have with the server, my email is <a href=\"mailto:dylan@psilly.com\">dylan@psilly.com</a>.</p>\n      <h2>Server Status</h2>\n      <p>How the server's doing and who's online.</p>\n      <div class=\"list-group mb-3\">\n        <a class=\"list-group-item list-group-item-action\" href=\"/jam/jamulus-status.html\">HTML status</a>\n        <a class=\"list-group-item list-group-item-action\" href=\"https://explorer.jamulus.io/servers.php?query=psilly.com\">Jamulus.io Explorer Status</a>\n      </div>\n      <h2>Who's Jammin' Now?</h2>\n      <JamulusStatus />\n    </section>\n  )\n}\n\nexport default Jam\n"],"sourceRoot":""}